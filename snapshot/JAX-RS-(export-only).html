<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at Jun 18, 2013
 | Rendered using Apache Maven Stylus Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title></title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta name="Date-Revision-yyyymmdd" content="20130618" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                                    
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
                                                        
<link rel="stylesheet" media="screen" href="css/bootstrap.min.css"/>
                              </head>
  <body class="composite">
    <div id="banner">
                                      <a href="#" id="bannerLeft">
                                                <img src="200px-Rose_logo.png" alt="" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                   <div class="xleft">
        Last Published: 2013-06-18
                  &nbsp;| Version: 1.2.2-SNAPSHOT
                      </div>
            <div class="xright">        
                         </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                   <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                                              <li class="collapsed">
                  <a href="project-info.html">Project Information</a>
                  </li>
                                                                    <li class="collapsed">
                  <a href="project-reports.html">Project Reports</a>
                  </li>
          </ul>
                       <h5>Introduction</h5>
                  <ul>
                  <li class="none">
                  <a href="Concepts.html">Concepts</a>
            </li>
                  <li class="none">
                  <a href="Getting-Started.html">Getting-Started</a>
            </li>
          </ul>
                       <h5>Protocols</h5>
                  <ul>
                  <li class="none">
                  <a href="Available-discovery-protocols.html">Discovery</a>
            </li>
                  <li class="none">
                  <a href="Available-invocation-protocols.html">Invocation</a>
            </li>
                                                                                                                              <li class="expanded">
                  <a href="#">Details</a>
                    <ul>
                      <li class="none">
                  <a href="JSON-RPC-(import-export).html">JSON-RPC</a>
            </li>
                      <li class="none">
            <strong>JAX-RS</strong>
          </li>
                      <li class="none">
                  <a href="XML-RPC-(import-export).html">XML-RPC</a>
            </li>
                      <li class="none">
                  <a href="JAX-WS-(import-export).html">JAX-WS</a>
            </li>
              </ul>
        </li>
          </ul>
                       <h5>API</h5>
                  <ul>
                  <li class="none">
                  <a href="Rest-API.html">REST API</a>
            </li>
                  <li class="none">
                  <a href="Rest-inspect-api.html">REST Inspect API</a>
            </li>
          </ul>
                       <h5>Exporters</h5>
                  <ul>
                  <li class="none">
                  <a href="Json-rpc-exporter.html">JSON-RPC Exporter</a>
            </li>
                  <li class="none">
            <strong>Jax-Rs Exporter</strong>
          </li>
          </ul>
                       <h5>Importers</h5>
                  <ul>
                  <li class="none">
                  <a href="Json-rpc-importer.html">JSON-RPC Importer</a>
            </li>
          </ul>
                       <h5>Custom Importers/Exporters</h5>
                  <ul>
                  <li class="none">
                  <a href="Create-your-own.html">Importer</a>
            </li>
          </ul>
                                 <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
          <img alt="Built by Maven" src="./images/logos/maven-feather.png"/>
        </a>
                       
                               </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Bundles and dependencies<a name="Bundles_and_dependencies"></a></h2><p>Invocation technology based on JAX RS:<a class="externalLink" href="http://en.wikipedia.org/wiki/Java_API_for_RESTful_Web_Services">http://en.wikipedia.org/wiki/Java_API_for_RESTful_Web_Services</a> is formed by:</p>
<table border="0" class="bodyTable">
  <thead>
    <tr class="a">
      <th>Artifact</th>
      <th>Version</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr class="b">
      <td><a class="externalLink" href="https://github.com/barjo/arvensis/tree/develop/jax-rs/jersey-exporter">RoSe JAX-RS Exporter (jersey)</a></td>
      <td>(0.1.0.SNAPSHOT)</td>
      <td>JAX-RS Exporter</td>
    </tr>
  </tbody>
</table><p><b>Dependencies:</b></p>
<table border="0" class="bodyTable">
  <thead>
    <tr class="a">
      <th>Artifact</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr class="b">
      <td><a class="externalLink" href="http://mir2.ovh.net/ftp.apache.org/dist//felix/org.apache.felix.http.jetty-2.2.0.jar">Apache Felix Http Jetty</a></td>
      <td>2.2.0</td>
    </tr>
    <tr class="a">
      <td><a class="externalLink" href="http://mirrors.ircam.fr/pub/apache//felix/org.apache.felix.eventadmin-1.2.14.jar">Apache Felix EventAdmin</a></td>
      <td>1.2.14</td>
    </tr>
    <tr class="b">
      <td><a class="externalLink" href="https://maven.java.net/service/local/repositories/releases/content/com/sun/jersey/jersey-core/1.9/jersey-core-1.9.jar">jersey-core</a></td>
      <td>1.9</td>
    </tr>
    <tr class="a">
      <td><a class="externalLink" href="https://maven.java.net/service/local/repositories/releases/content/com/sun/jersey/jersey-server/1.9/jersey-server-1.9.jar">jersey-server</a></td>
      <td>1.9</td>
    </tr>
  </tbody>
</table></div><div class="section"><h2>Setting up<a name="Setting_up"></a></h2><p>The <a class="externalLink" href="http://http://en.wikipedia.org/wiki/Java_API_for_RESTful_Web_Services">JAX-RS</a> specification provides us some nice annotations that helps the job to be done. So the first thing to do is to create a wrapper component that require your business service and provide a service which use the Jax-Rs annotations to map your Pojo as a <i>resource</i> thanks to the great <a class="externalLink" href="http://http://jersey.java.net/">jersey</a> project. And, Done ! Well not totally done, you also need to provide a small configuration file (<a href="./rose-conf.json.html">rose-conf.json</a>) that will be interpreted on the fly to know which service should be exported as REST resources. The following configuration file tells RoSe to export the services which have the property <i>jaxrs</i> set. RoSe do it seamlessly using its jersey based <a href="./ExporterService.html">ExporterService</a>.</p>
<div class="source"><pre>{
&quot;machine&quot; : {
  &quot;id&quot; : &quot;server1&quot;,
  &quot;host&quot; : &quot;localhost&quot;,

  &quot;connection&quot; : [
    { &quot;out&quot; : { &quot;service_filter&quot; : &quot;(jaxrs=*)&quot; } }
  ],

  &quot;component&quot; : [
    { 
  &quot;factory&quot; : &quot;RoSe_exporter.jersey&quot;,
      &quot;properties&quot; : { &quot;jersey.servlet.name&quot; : &quot;/rest&quot; }
    }
  ],
}
</pre></div><p>If you are accustomed to iPOJO, a simple hello world component exported as a resource looks like that:</p>
<div class="source"><pre>@Component(name=&quot;example_helloworld&quot;)
@Instantiate(name=&quot;example_helloworld-1&quot;)
@Provides(properties=@StaticServiceProperty(name=&quot;jaxrs&quot;,value=&quot;true&quot;, type = &quot;String&quot;))
@Path(value=&quot;/helloworld/{name}&quot;)
public class HelloImpl implements HelloWorld {

  @GET
  @Produces(&quot;text/plain&quot;)
  public String hello(@PathParam(&quot;name&quot;) String name) {
            return &quot;Hello &quot;+name+&quot; !&quot;;
  }
} 
</pre></div><p>So now, if you go to: <a class="externalLink" href="http://localhost:8080/rest/helloworld/toto">http://localhost:8080/rest/helloworld/toto</a> you will have: <tt>hello toto !</tt>. The good thing is that you are free to add or remove the services you want to have an endpoint for and the endpoint will be created or destroyed according to the service availability. Now, you need to export only the service providing the <i>HelloWorld</i> services, no probalem just change the configuration: <tt>{ &quot;out&quot; : { &quot;service_filter&quot; : &quot;(objectclass=com.acme.HelloWorld)&quot; } }</tt></p></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        &#169;            2013
              OW2 Consortium
            
                          - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a>.
        Apache Maven, Maven, Apache, the Apache feather logo, and the Apache Maven project logos are trademarks of The Apache Software Foundation.
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
