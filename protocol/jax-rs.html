<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2013-06-24
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20130624" />
    <meta http-equiv="Content-Language" content="en" />
    <title>RoSe - </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

              
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../index.html" id="bannerLeft">
                                                                                                <img src="../200px-Rose_logo.png"  alt="RoSe"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2013-06-24</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.2.3-SNAPSHOT</li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Introduction</li>
                                
      <li>
    
                          <a href="../introduction/basic.html" title="What is it for?">
          <i class="none"></i>
        What is it for?</a>
            </li>
                  
      <li>
    
                          <a href="../introduction/terms-and-jargon.html" title="Terms and Jargon">
          <i class="none"></i>
        Terms and Jargon</a>
            </li>
                  
      <li>
    
                          <a href="../introduction/protocols.html" title="Builtin protocols">
          <i class="none"></i>
        Builtin protocols</a>
            </li>
                              <li class="nav-header">Coding</li>
                                
      <li>
    
                          <a href="../introduction/machine-registration.html" title="Machine registration">
          <i class="none"></i>
        Machine registration</a>
            </li>
                  
      <li>
    
                          <a href="../Available-discovery-protocols.html" title="Discovery">
          <i class="none"></i>
        Discovery</a>
            </li>
                              <li class="nav-header">Running Rose</li>
                                
      <li>
    
                          <a href="../configuration/install-rose.html" title="Installing">
          <i class="none"></i>
        Installing</a>
            </li>
                              <li class="nav-header">Understanding deeply</li>
                                
      <li>
    
                          <a href="../introduction/getting-started.html" title="Getting started">
          <i class="none"></i>
        Getting started</a>
            </li>
                  
      <li>
    
                          <a href="../introduction/anatomy.html" title="Rose machine anatomy">
          <i class="none"></i>
        Rose machine anatomy</a>
            </li>
                              <li class="nav-header">Protocols</li>
                                                                                                        
      <li>
    
                          <a href="../#" title="Details">
          <i class="icon-chevron-down"></i>
        Details</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../protocol/json-rpc.html" title="JSON-RPC">
          <i class="none"></i>
        JSON-RPC</a>
            </li>
                      
      <li class="active">
    
            <a href="#"><i class="none"></i>JAX-RS</a>
          </li>
              </ul>
        </li>
                              <li class="nav-header">API/Spec</li>
                                
      <li>
    
                          <a href="../apidocs/index.html" title="Rose API">
          <i class="none"></i>
        Rose API</a>
            </li>
                  
      <li>
    
                          <a href="../spec/dsl-spec.html" title="Rose DSL Spec">
          <i class="none"></i>
        Rose DSL Spec</a>
            </li>
                  
      <li>
    
                          <a href="../spec/Rest-API.html" title="REST API">
          <i class="none"></i>
        REST API</a>
            </li>
                  
      <li>
    
                          <a href="../spec/Rest-inspect-api.html" title="REST Inspect API">
          <i class="none"></i>
        REST Inspect API</a>
            </li>
                  
      <li>
    
                          <a href="../configuration/json-configuration-file.html" title="JSON configuration">
          <i class="none"></i>
        JSON configuration</a>
            </li>
                              <li class="nav-header">Exporters</li>
                                
      <li>
    
                          <a href="../protocol/json-rpc-exporter.html" title="JSON-RPC Exporter">
          <i class="none"></i>
        JSON-RPC Exporter</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Jax-Rs Exporter</a>
          </li>
                              <li class="nav-header">Importers</li>
                                
      <li>
    
                          <a href="../protocol/json-rpc-importer.html" title="JSON-RPC Importer">
          <i class="none"></i>
        JSON-RPC Importer</a>
            </li>
                              <li class="nav-header">Custom components</li>
                                
      <li>
    
                          <a href="../advanced/custom-intro.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="../advanced/discovery-pubsubhubbub.html" title="Discovery">
          <i class="none"></i>
        Discovery</a>
            </li>
                              <li class="nav-header">Modules</li>
                                
      <li>
    
                          <a href="../rose-core/index.html" title="OW2 Chameleon - RoSe Core">
          <i class="none"></i>
        OW2 Chameleon - RoSe Core</a>
            </li>
                  
      <li>
    
                          <a href="../json-configurator/index.html" title="OW2 Chameleon - RoSe Json Configurator">
          <i class="none"></i>
        OW2 Chameleon - RoSe Json Configurator</a>
            </li>
                  
      <li>
    
                          <a href="../jersey-exporter/index.html" title="OW2 Chameleon - RoSe JAX-RS Exporter (jersey)">
          <i class="none"></i>
        OW2 Chameleon - RoSe JAX-RS Exporter (jersey)</a>
            </li>
                  
      <li>
    
                          <a href="../cxf-exporter/index.html" title="OW2 Chameleon - RoSe JAX-WS Exporter (cxf)">
          <i class="none"></i>
        OW2 Chameleon - RoSe JAX-WS Exporter (cxf)</a>
            </li>
                  
      <li>
    
                          <a href="../cxf-importer/index.html" title="OW2 Chameleon - RoSe JAX-WS Importer (cxf)">
          <i class="none"></i>
        OW2 Chameleon - RoSe JAX-WS Importer (cxf)</a>
            </li>
                  
      <li>
    
                          <a href="../jabsorb-exporter/index.html" title="OW2 Chameleon - RoSe JSON-RPC Exporter">
          <i class="none"></i>
        OW2 Chameleon - RoSe JSON-RPC Exporter</a>
            </li>
                  
      <li>
    
                          <a href="../jabsorb-importer/index.html" title="OW2 Chameleon - RoSe JSON-RPC Importer">
          <i class="none"></i>
        OW2 Chameleon - RoSe JSON-RPC Importer</a>
            </li>
                  
      <li>
    
                          <a href="../rose-grizzly-bundle/index.html" title="OW2 Chameleon - Grizzly OSGi HttpService bundle (RoSe version)">
          <i class="none"></i>
        OW2 Chameleon - Grizzly OSGi HttpService bundle (RoSe version)</a>
            </li>
                  
      <li>
    
                          <a href="../atmosgi-parent/index.html" title="Atmosphere OSGi Parent">
          <i class="none"></i>
        Atmosphere OSGi Parent</a>
            </li>
                  
      <li>
    
                          <a href="../rose.dp/index.html" title="OW2 Chameleon - Rose DP">
          <i class="none"></i>
        OW2 Chameleon - Rose DP</a>
            </li>
                                        <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                            
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                    
      <li>
    
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>Bundles and dependencies<a name="Bundles_and_dependencies"></a></h2>
<p>Invocation technology based on &#x201c;JAX RS&#x201d;:<a class="externalLink" href="http://en.wikipedia.org/wiki/Java_API_for_RESTful_Web_Services">http://en.wikipedia.org/wiki/Java_API_for_RESTful_Web_Services</a> is formed by:</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Artifact</th>
      
<th>Version</th>
      
<th>Description</th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td><a class="externalLink" href="https://github.com/barjo/arvensis/tree/develop/jax-rs/jersey-exporter">RoSe JAX-RS Exporter (jersey)</a></td>
      
<td>(0.1.0.SNAPSHOT)</td>
      
<td>JAX-RS Exporter</td>
    </tr>
  </tbody>
</table>
<p><b>Dependencies:</b></p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Artifact</th>
      
<th>Version</th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td><a class="externalLink" href="http://mir2.ovh.net/ftp.apache.org/dist//felix/org.apache.felix.http.jetty-2.2.0.jar">Apache Felix Http Jetty</a></td>
      
<td>2.2.0</td>
    </tr>
    
<tr class="a">
      
<td><a class="externalLink" href="http://mirrors.ircam.fr/pub/apache//felix/org.apache.felix.eventadmin-1.2.14.jar">Apache Felix EventAdmin</a></td>
      
<td>1.2.14</td>
    </tr>
    
<tr class="b">
      
<td><a class="externalLink" href="https://maven.java.net/service/local/repositories/releases/content/com/sun/jersey/jersey-core/1.9/jersey-core-1.9.jar">jersey-core</a></td>
      
<td>1.9</td>
    </tr>
    
<tr class="a">
      
<td><a class="externalLink" href="https://maven.java.net/service/local/repositories/releases/content/com/sun/jersey/jersey-server/1.9/jersey-server-1.9.jar">jersey-server</a></td>
      
<td>1.9</td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2>Setting up<a name="Setting_up"></a></h2>
<p>The <a class="externalLink" href="http://http://en.wikipedia.org/wiki/Java_API_for_RESTful_Web_Services">JAX-RS</a> specification provides us some nice annotations that helps the job to be done. So the first thing to do is to create a wrapper component that require your business service and provide a service which use the Jax-Rs annotations to map your Pojo as a <i>resource</i> thanks to the great <a class="externalLink" href="http://http://jersey.java.net/">jersey</a> project. And, Done ! Well not totally done, you also need to provide a small configuration file (<a href="./rose-conf.json.html">rose-conf.json</a>) that will be interpreted on the fly to know which service should be exported as REST resources. The following configuration file tells RoSe to export the services which have the property <i>jaxrs</i> set. RoSe do it seamlessly using its jersey based <a href="./ExporterService.html">ExporterService</a>.</p>

<div class="source">
<pre>{
&quot;machine&quot; : {
  &quot;id&quot; : &quot;server1&quot;,
  &quot;host&quot; : &quot;localhost&quot;,

  &quot;connection&quot; : [
    { &quot;out&quot; : { &quot;service_filter&quot; : &quot;(jaxrs=*)&quot; } }
  ],

  &quot;component&quot; : [
    { 
  &quot;factory&quot; : &quot;RoSe_exporter.jersey&quot;,
      &quot;properties&quot; : { &quot;jersey.servlet.name&quot; : &quot;/rest&quot; }
    }
  ],
}
</pre></div>
<p>If you are accustomed to iPOJO, a simple hello world component exported as a resource looks like that:</p>

<div class="source">
<pre>@Component(name=&quot;example_helloworld&quot;)
@Instantiate(name=&quot;example_helloworld-1&quot;)
@Provides(properties=@StaticServiceProperty(name=&quot;jaxrs&quot;,value=&quot;true&quot;, type = &quot;String&quot;))
@Path(value=&quot;/helloworld/{name}&quot;)
public class HelloImpl implements HelloWorld {

  @GET
  @Produces(&quot;text/plain&quot;)
  public String hello(@PathParam(&quot;name&quot;) String name) {
            return &quot;Hello &quot;+name+&quot; !&quot;;
  }
} 
</pre></div>
<p>So now, if you go to: <a class="externalLink" href="http://localhost:8080/rest/helloworld/toto">http://localhost:8080/rest/helloworld/toto</a> you will have: <tt>hello toto !</tt>. The good thing is that you are free to add or remove the services you want to have an endpoint for and the endpoint will be created or destroyed according to the service availability. Now, you need to export only the service providing the <i>HelloWorld</i> services, no probalem just change the configuration: <tt>{ &quot;out&quot; : { &quot;service_filter&quot; : &quot;(objectclass=com.acme.HelloWorld)&quot; } }</tt></p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2013
                        <a href="http://www.ow2.org">OW2 Consortium</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
